<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quantaa Reunion Dashboard</title>
  <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>

  <!-- Login Screen -->
  <div id="loginScreen" class="login-screen">
    <h2>Dashboard Login</h2>
    <div class="login-field">
      <input type="text" id="username" placeholder="Username">
    </div>
    <div class="login-field">
      <input type="password" id="password" placeholder="Password">
    </div>
    <div id="loginError" class="login-error"></div>
    <button id="loginBtn" class="btn-primary">Login</button>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" class="dashboard" style="display:none;">
    <h1>Quantaa Reunion Dashboard</h1>
    
    <!-- Cards -->
    <div class="cards">
      <div class="card"><h3>Total Registered</h3><span id="totalRegistered">0</span></div>
      <div class="card"><h3>Total Guests</h3><span id="totalGuests">0</span></div>
      <div class="card"><h3>Total Attended</h3><span id="totalAttended">0</span></div>
      <div class="card"><h3>Total Invited</h3><span id="totalInvited">0</span></div>
    </div>

    <!-- Filters -->
    <div class="filters">
      <input type="text" id="searchInput" placeholder="Search by name, ID or phone">
      <button id="printBtn">Print</button>
      <button id="downloadBtn">Download Excel</button>
    </div>

    <!-- Table -->
    <table id="registrationsTable">
      <thead>
        <tr>
          <th>Serial No</th>
          <th>Quantaa ID</th>
          <th>Name</th>
          <th>Phone</th>
          <th>Batch</th>
          <th>T-Shirt</th>
          <th>Guests</th>
          <th>Payment</th>
          <th>Transaction</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>


  <!-- Edit Modal -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="closeBtn">&times;</span>
      <h3>Edit Registration</h3>

      <form id="registrationForm" class="registration-form" novalidate>
        <!-- Personal Information -->
        <section class="form-section">
          <label>Quantaa ID: <input type="text" id="quantaaID"></label>
          <label>Batch Number: <input type="text" id="batchNo"></label>
          <label>Full Name: <input type="text" id="quantaaName"></label>
          <label>Phone Number: <input type="tel" id="quantaaPhone"></label>
          <label>Full Address: <textarea id="fullAddress"></textarea></label>
          <label>T-Shirt Size:
            <select id="tshirtSize">
              <option>XS</option><option>S</option><option>M</option>
              <option>L</option><option>XL</option><option>XXL</option>
            </select>
          </label>
        </section>

        <!-- Guest Information -->
        <section class="form-section">
          <label>Guests: <input type="number" id="numGuests" min="0"></label>
        </section>

        <!-- Payment Details -->
        <section class="form-section">
          <label>Fee Amount: <input type="number" id="feeAmount"></label>
          <label>Payment Method:
            <select id="paymentMethod">
              <option>bKash</option><option>Nagad</option>
              <option>Rocket</option><option>Cash</option>
            </select>
          </label>
          <label>Transaction ID: <input type="text" id="transactionID"></label>
          <label>Suggestions: <textarea id="suggestion"></textarea></label>
        </section>

        <div class="form-actions">
          <button type="submit" class="btn-primary submit-btn">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
  <script src="js/dashboard.js"></script>

<script>
  function showToast(message, type = 'info') {
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    toast.textContent = message;
    document.body.appendChild(toast);
    setTimeout(() => toast.remove(), 3000);
  }
</script>

</body>
</html>
